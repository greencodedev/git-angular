<section>
  <ng-container *ngIf="!success; else successMsg">
    <div class="header-title">
      New Password
    </div>
    <div class="description">
      Please enter a new password you'll use to log in.
    </div>
    <div class="panel">
      <form [formGroup]="type" (ngSubmit)="setNewPwd()">
        <div class="form-group">
          <input type="{{toggleNewPwd ? 'password' : 'text'}}" class="form-control" formControlName="newPassword"
            placeholder="New Password">
          <label [ngClass]="{'show': type.value.newPassword.length > 0}">New Password</label>
          <img class="eye-icon" src="{{'assets/images/' + (toggleNewPwd ? 'ic-visible.png' : 'ic-not-visible.png')}}"
            (click)="toggleNewPwd = !toggleNewPwd">
        </div>
        <div class="form-group">
          <input type="{{toggleRptPwd ? 'password' : 'text'}}" class="form-control" formControlName="verifyPassword"
            placeholder="Repeat New Password">
          <label [ngClass]="{'show': type.value.verifyPassword.length > 0}">Repeat New Password</label>
          <img class="eye-icon" src="{{'assets/images/' + (toggleRptPwd ? 'ic-visible.png' : 'ic-not-visible.png')}}"
            (click)="toggleRptPwd = !toggleRptPwd">
        </div>
        <p class="hint">The password must be more than 7 characters, at least one letter and one number.</p>
        <button type="submit" class="btn btn-success" [disabled]="!type.valid">Set New Password</button>
      </form>
    </div>
    <div class="err-msg" [ngClass]="{'error': pwdError}">
      Repeat password should be same as new password
    </div>
    <div class="err-msg" [ngClass]="{'error': tokenError}">
      Password reset token is invalid or has expired.
    </div>
  </ng-container>
  <ng-template #successMsg>
    <div class="header-title">
      Password Set
    </div>
    <div class="success-msg">
      Your password has been successfully set.<br />
      You'll be redirected to the login page in a few sec.
    </div>
  </ng-template>
</section>